<apex:page controller="SitesRegisterController" action="{!init}" cache="false" sidebar="false" showHeader="false" standardStylesheets="false">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>会員登録</title>

    <!-- Design Style -->
    <apex:stylesheet value="{!URLFOR($Resource.SitesContents, 'common/css/import.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.SitesContents, 'common/css/editorial/sub.css')}" />

    <!-- 独自のスタイル -->
    <style type="text/css">
        table.sf-radio {
            margin-bottom: 0;
        }
        table.sf-radio tr td {
            border-style: none;
        }
        .cardlimit {
            margin: 5px;
            border: 1px solid #09C;
        }
    </style>

    <!-- JQuery -->
    <apex:includeScript value="{!URLFOR($Resource.JQuery)}"/>

    <!-- Design Script -->
    <apex:includeScript value="{!URLFOR($Resource.SitesContents, 'common/js/jquery.blend-min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.SitesContents, 'common/js/scrollsmoothly.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.SitesContents, 'common/js/heightLine.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.SitesContents, 'common/js/common.js')}"/>

    <!-- 郵便番号検索 -->
    <apex:includeScript value="{!URLFOR($Resource.AjaxZip2, 'ajaxzip2/ajaxzip2.js')}"/>
    <script type="text/javascript">AjaxZip2.JSONDATA = "{!URLFOR($Resource.AjaxZip2, 'ajaxzip2/data')}"</script>

    <!-- 独自のScript -->
    <script type="text/javascript">

        // リロード時
        $(document).ready(function(){
            // 請求担当者フラグのラジオボタンをチェックする
            $('input[id$="seikyuTantoFlg"]').each(function () {
                if($(this).attr('checked')) {
                    $("input[name='sDummy']").val([$(this).attr('id')]);
                }
            });

            // 支払い方法のラジオボタンをチェックする
            $('input[id$="Payment"]').each(function () {
                if($(this).attr('checked')) {
                    $("input[name='pDummy']").val([$(this).attr('id')]);
                }
            });
        });

        // ラジオボタンの値を設定
        function setRadioValue(targetId, targetId_full) {
            // 全てのチェックを外す
            $('input[id$="' + targetId + '"]').removeAttr('checked');
            // チェック
            document.getElementById(targetId_full).checked = 'checked';
        }

        // 担当者追加：前処理
        function preAddTantosya() {
            $('input[id$="addTantosya"]').click();
            $('#dispAddTantosya').attr("disabled", "disabled");
        }

        // 担当者追加：後処理
        function postAddTantosya() {
            // 担当者追加ボタンを有効化
            $('#dispAddTantosya').removeAttr("disabled");

            // 請求担当者フラグのラジオボタンをチェックする
            $('input[id$="seikyuTantoFlg"]').each(function () {
                if($(this).attr('checked')) {
                    $("input[name='sDummy']").val([$(this).attr('id')]);
                }
            });
        }
    </script>
    
    <!--Google Analytics-->
    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-17698964-1', 'auto', {'allowLinker': true}); 
    ga('require', 'linker');
    ga('linker:autoLink', ['kirinuki.jp','kirinuki.secure.force.com','mediabackoffice.co.jp'] ); 
    ga('send', 'pageview');

    </script>
    <!--Google Analytics-->
</head>

<body>
    <div id="wrapper">
    <div id="header" class="cf">
        <div class="left">
            <h1><a href="http://www.kirinuki.jp/" target="_blank">切り抜きJP</a></h1>
        </div><!--div.left -->
        <div class="right">
        </div><!--div.right -->
    </div><!--div#header -->

    <div id="container" class="cf">
    <div id="content" class="cf">

        <!-- 通常モード：登録画面 -->
        <apex:outputPanel rendered="{!(dispMode=='normal')}">
            <apex:form >
                <!-- メッセージ -->
                <div style="width: 700px; margin: auto;">
                    <c:SitesMessage msgList="{!msgList}"/>
                </div>

                <div class="comment_normal">
                    <p>
                        ※必要事項をご記入の上、最下部の「確認」へ進んで下さい。
                    </p>
                </div>

                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="700">
                    <tr>
                        <th width="140">会社名<span class="require">　※必須</span></th>
                        <td>
                            <apex:inputText value="{!kokyaku.KokyakuName}" styleClass="textbox1 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                            <br />
                            <span class="text_inline">
                                例） 株式会社切り抜きJP<br />
                                ※会社名は正式名称をご入力ください。法人格は略さずにご入力ください。<br />
                                ※個人事業主の方は、お名前、または屋号をご入力下さい
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>会社名(全角カナ)<span class="require"><br/>※必須</span></th>
                        <td>
                            <apex:inputText value="{!kokyaku.KokyakuNameKana}" styleClass="textbox1 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/><br />
                            <span class="text_inline">
                                例） カブシキカイシャキリヌキジェイピー
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>郵便番号<span class="require">　※必須</span></th>
                        <td>
                            <apex:inputText id="postalcode1" value="{!kokyaku.PostalCode1}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText id="postalcode2" value="{!kokyaku.PostalCode2}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>&nbsp;
                            <input type="button" value="自動住所入力" onclick="AjaxZip2.zip2addr('{!$Component.postalcode1}', '{!$Component.pref}', '{!$Component.city}', '{!$Component.postalcode2}', '{!$Component.street2}', '{!$Component.street1}');"/>
                        </td>
                    </tr>
                    <tr>
                        <th>都道府県<span class="require">　※必須</span></th>
                        <td>
                            <apex:selectList id="pref" value="{!kokyaku.State}" multiselect="false" size="1" >
                                <apex:selectOption itemLabel="選択してください" itemValue=""/>
                                <apex:selectOptions value="{!prefSelectOptions}"></apex:selectOptions>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <th>市区郡<span class="require">　※必須</span></th>
                        <td>
                            <apex:inputText id="city" value="{!kokyaku.City}" styleClass="textbox1 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                    <tr>
                        <th>町名・番地・ビル名など<br/><span class="require">※必須</span></th>
                        <td>
                            <apex:inputText id="street1" value="{!kokyaku.Street1}" styleClass="textbox1 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/><br />
                            <apex:inputText id="street2" value="{!kokyaku.Street2}" styleClass="textbox1 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                    <tr>
                        <th>お電話番号<span class="require">　※必須</span></th>
                        <td>
                            <apex:inputText value="{!kokyaku.Phone1}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText value="{!kokyaku.Phone2}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText value="{!kokyaku.Phone3}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                    <tr>
                        <th>FAX番号</th>
                        <td>
                            <apex:inputText value="{!kokyaku.Fax1}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText value="{!kokyaku.Fax2}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText value="{!kokyaku.Fax3}" styleClass="textbox3 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                </table>

                <hr />

                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="700">
                    <tr>
                        <th width="140">どこでお知りになりましたか？<span class="require">　※必須</span></th>
                        <td>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource01__c.label != '未使用'}">
                                <apex:inputCheckbox id="source01" value="{!kokyaku.Source01}"/>
                                <apex:outputLabel for="source01" value="{!$ObjectType.Account.fields.CampaignSource01__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource02__c.label != '未使用'}">
                                <apex:inputCheckbox id="source02" value="{!kokyaku.Source02}"/>
                                <apex:outputLabel for="source02" value="{!$ObjectType.Account.fields.CampaignSource02__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource03__c.label != '未使用'}">
                                <apex:inputCheckbox id="source03" value="{!kokyaku.Source03}"/>
                                <apex:outputLabel for="source03" value="{!$ObjectType.Account.fields.CampaignSource03__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource04__c.label != '未使用'}">
                                <apex:inputCheckbox id="source04" value="{!kokyaku.Source04}"/>
                                <apex:outputLabel for="source04" value="{!$ObjectType.Account.fields.CampaignSource04__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource05__c.label != '未使用'}">
                                <apex:inputCheckbox id="source05" value="{!kokyaku.Source05}"/>
                                <apex:outputLabel for="source05" value="{!$ObjectType.Account.fields.CampaignSource05__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource06__c.label != '未使用'}">
                                <apex:inputCheckbox id="source06" value="{!kokyaku.Source06}"/>
                                <apex:outputLabel for="source06" value="{!$ObjectType.Account.fields.CampaignSource06__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource07__c.label != '未使用'}">
                                <apex:inputCheckbox id="source07" value="{!kokyaku.Source07}"/>
                                <apex:outputLabel for="source07" value="{!$ObjectType.Account.fields.CampaignSource07__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource08__c.label != '未使用'}">
                                <apex:inputCheckbox id="source08" value="{!kokyaku.Source08}"/>
                                <apex:outputLabel for="source08" value="{!$ObjectType.Account.fields.CampaignSource08__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource09__c.label != '未使用'}">
                                <apex:inputCheckbox id="source09" value="{!kokyaku.Source09}"/>
                                <apex:outputLabel for="source09" value="{!$ObjectType.Account.fields.CampaignSource09__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource10__c.label != '未使用'}">
                                <apex:inputCheckbox id="source10" value="{!kokyaku.Source10}"/>
                                <apex:outputLabel for="source10" value="{!$ObjectType.Account.fields.CampaignSource10__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource11__c.label != '未使用'}">
                                <apex:inputCheckbox id="source11" value="{!kokyaku.Source11}"/>
                                <apex:outputLabel for="source11" value="{!$ObjectType.Account.fields.CampaignSource11__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource12__c.label != '未使用'}">
                                <apex:inputCheckbox id="source12" value="{!kokyaku.Source12}"/>
                                <apex:outputLabel for="source12" value="{!$ObjectType.Account.fields.CampaignSource12__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource13__c.label != '未使用'}">
                                <apex:inputCheckbox id="source13" value="{!kokyaku.Source13}"/>
                                <apex:outputLabel for="source13" value="{!$ObjectType.Account.fields.CampaignSource13__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource14__c.label != '未使用'}">
                                <apex:inputCheckbox id="source14" value="{!kokyaku.Source14}"/>
                                <apex:outputLabel for="source14" value="{!$ObjectType.Account.fields.CampaignSource14__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource15__c.label != '未使用'}">
                                <apex:inputCheckbox id="source15" value="{!kokyaku.Source15}"/>
                                <apex:outputLabel for="source15" value="{!$ObjectType.Account.fields.CampaignSource15__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource16__c.label != '未使用'}">
                                <apex:inputCheckbox id="source16" value="{!kokyaku.Source16}"/>
                                <apex:outputLabel for="source16" value="{!$ObjectType.Account.fields.CampaignSource16__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource17__c.label != '未使用'}">
                                <apex:inputCheckbox id="source17" value="{!kokyaku.Source17}"/>
                                <apex:outputLabel for="source17" value="{!$ObjectType.Account.fields.CampaignSource17__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource18__c.label != '未使用'}">
                                <apex:inputCheckbox id="source18" value="{!kokyaku.Source18}"/>
                                <apex:outputLabel for="source18" value="{!$ObjectType.Account.fields.CampaignSource18__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource19__c.label != '未使用'}">
                                <apex:inputCheckbox id="source19" value="{!kokyaku.Source19}"/>
                                <apex:outputLabel for="source19" value="{!$ObjectType.Account.fields.CampaignSource19__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputpanel rendered="{!$ObjectType.Account.fields.CampaignSource20__c.label != '未使用'}">
                                <apex:inputCheckbox id="source20" value="{!kokyaku.Source20}"/>
                                <apex:outputLabel for="source20" value="{!$ObjectType.Account.fields.CampaignSource20__c.label}"/>
                                &nbsp;
                                <apex:inputText value="{!kokyaku.OtherDetail}" styleClass="textbox2 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                                <br/>
                            </apex:outputpanel>
                        </td>
                    </tr>
                </table>

                <hr />

                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="700">
                    <tr>
                        <th width="140">ユーザーID<span class="require">　※必須</span><br/>※ご希望のユーザーIDを入力して下さい</th>
                        <td>
                            <apex:inputText value="{!kokyaku.kokyakuId}" styleClass="textbox2 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>
                            <apex:commandButton value="利用可能かどうか調べる" action="{!checkKokyakuId}" reRender="checkKokyakuId"/><br />
                            <span class="text_inline">
                                （4文字以上の半角英数字、ハイフン、アンダースコア）
                            </span>
                            <apex:outputPanel id="checkKokyakuId">
                                <span class="{!resultKokyakuIdCheck.cls}" style="font-size: 12px;"><apex:outputText value="{!resultKokyakuIdCheck.msg}"/></span>
                            </apex:outputPanel>
                        </td>
                    </tr>
                    <tr>
                        <th>パスワード<span class="require">　※必須</span><br/>※ご希望のパスワードを入力して下さい</th>
                        <td>
                            <apex:inputSecret value="{!kokyaku.kokyakuPw}" styleClass="textbox2" onblur="Blur(this);" onfocus="Focus(this);"/><br />
                            <span class="text_inline">
                                （4文字以上の半角英数字、ハイフン、アンダースコア）
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>パスワード再入力<br/><span class="require">※必須</span></th>
                        <td>
                            <apex:inputSecret value="{!kokyaku.kokyakuPwConfirm}" styleClass="textbox2" onblur="Blur(this);" onfocus="Focus(this);"/><br />
                            <span class="text_inline">
                                （4文字以上の半角英数字、ハイフン、アンダースコア）
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <th>PC環境<span class="require">　※必須</span></th>
                        <td>
                            <apex:selectRadio value="{!kokyaku.Pc}" styleClass="sf-radio">
                                <apex:selectOptions value="{!pcSelectOptions}"></apex:selectOptions>
                            </apex:selectRadio>
                        </td>
                    </tr>
                </table>

                <hr />

                <div class="comment_normal">
                    <p>
                         ご担当者様　※ご担当者様をご登録出来ます。
                        <input id="dispAddTantosya" type="button" value="追加" onclick="preAddTantosya();"/>
                        <div style="display: none">
                            <apex:commandButton id="addTantosya" value="追加" action="{!addTantosya}" reRender="tantosyaArea"/>
                        </div>
                    </p>
                </div>

                <apex:outputPanel id="tantosyaArea">
                    <table border="0" cellspacing="0" cellpadding="0" width="700" class="normal">
                        <tr>
                            <th>お名前<span class="require">　※必須</span></th>
                            <th>部署名・パートナー名</th>
                            <th>ご役職</th>
                            <th>メールアドレス<span class="require">　※必須</span></th>
                            <th>ご請求先<br/><span class="require">※必須</span></th>
                        </tr>
                        <apex:repeat var="item" value="{!tantosyaList}">
                            <tr>
                                <td>
                                    <apex:inputText value="{!item.TantosyaName}" styleClass="textbox4 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                                </td>
                                <td>
                                    <apex:inputText value="{!item.Department}" styleClass="textbox4 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                                </td>
                                <td>
                                    <apex:inputText value="{!item.Title}" styleClass="textbox4 ime-active" onblur="Blur(this);" onfocus="Focus(this);"/>
                                </td>
                                <td>
                                    <apex:inputText value="{!item.Email}" styleClass="textbox4 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>
                                </td>
                                <td class="center">
                                    <input type="radio" name="sDummy" value="{!$Component.seikyuTantoFlg}" onclick="setRadioValue('seikyuTantoFlg', '{!$Component.seikyuTantoFlg}')"/>
                                    <span style="display: none;">
                                        <apex:inputCheckbox id="seikyuTantoFlg" value="{!item.SeikyuTantoFlg}" />
                                    </span>
                                </td>
                            </tr>
                        </apex:repeat>
                    </table>

                    <!-- 担当者追加：後処理 -->
                    <script type="text/javascript">
                        postAddTantosya();
                    </script>
                </apex:outputPanel>

                <div class="comment_normal">
                    <p class="text_inline">
                        例） 山田太郎  /  切り抜きJP事業部 /  部長 /  kirinuki@kirinuki.jp /  _<br />
                        ※外部パートナーの方のご登録も可能です。「部署名」の欄にパートナー企業様の名称をご入力下さい。<br />
                        ※ご請求書郵送先の宛名となるご担当者様を、1件ご指定ください。（必須）<br />
                        ※個人事業主の方で、会社名に個人名をご入力して頂いた場合、お名前を再度ご入力下さい
                    </p>
                </div>

                <hr />

                <div class="comment_normal">
                    <p>
                        お支払方法　※どちらかのお支払方法をご選択ください。　<span class="require" style="font-weight: bold;">※必須</span>
                    </p>
                </div>

                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="700">
                    <tr>
                        <th width="200" rowspan="3">
                            <input type="radio" id="seikyuPayment_Dummy" name="pDummy" value="{!$Component.seikyuPayment}" onclick="setRadioValue('Payment', '{!$Component.seikyuPayment}')"/>
                            <label for="seikyuPayment_Dummy">ご請求書払い</label>
                            <span style="display: none;">
                                <apex:inputCheckbox id="seikyuPayment" value="{!kokyaku.PaymentSeikyusyo}"/>
                            </span>
                            <br />※60日以上のお支払いサイトについては、別途ご相談下さい
                          </th>
                        <td width="120">締日</td>
                        <td>
                            <apex:selectList value="{!kokyaku.ShimeGroup}" multiselect="false" size="1" >
                                <apex:selectOptions value="{!shimeGroupSelectOptions}"></apex:selectOptions>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <td>お支払いサイクル</td>
                        <td>
                            <apex:selectList value="{!kokyaku.KaisyuCycle}" multiselect="false" size="1" >
                                <apex:selectOptions value="{!kaisyuCycleSelectOptions}"></apex:selectOptions>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <td>お支払日</td>
                        <td>
                            <apex:selectList value="{!kokyaku.KaisyuDate}" multiselect="false" size="1" >
                                <apex:selectOptions value="{!kaisyuDateSelectOptions}"></apex:selectOptions>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <th rowspan="4">
                            <input type="radio" id="creditPayment_Dummy" name="pDummy" value="{!$Component.creditPayment}" onclick="setRadioValue('Payment', '{!$Component.creditPayment}')"/>
                            <label for="creditPayment_Dummy">クレジットカード払い</label>
                            <span style="display: none;">
                                <apex:inputCheckbox id="creditPayment" value="{!kokyaku.PaymentCredit}"/>
                            </span>
                        </th>
                        <td>カード会社</td>
                        <td>
                            <apex:selectList value="{!kokyaku.CardCompany}" multiselect="false" size="1" >
                                <apex:selectOptions value="{!cardCompanySelectOptions}"></apex:selectOptions>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <td>カード番号</td>
                        <td>
                            <apex:inputSecret style="width: 50px;" value="{!kokyaku.CardNo1}"  redisplay="true" styleClass="textbox3 ime-disabled" maxlength="4" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputSecret style="width: 50px;" value="{!kokyaku.CardNo2}" redisplay="true" styleClass="textbox3 ime-disabled" maxlength="4" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputSecret style="width: 50px;" value="{!kokyaku.CardNo3}" redisplay="true" styleClass="textbox3 ime-disabled" maxlength="4" onblur="Blur(this);" onfocus="Focus(this);"/>-
                            <apex:inputText style="width: 50px;" value="{!kokyaku.CardNo4}" styleClass="textbox3 ime-disabled" maxlength="4" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                    <tr>
                        <td>カード有効期限</td>
                        <td>
                            <apex:selectList value="{!kokyaku.CardLimitMM}" size="1" styleClass="cardlimit">
                                <apex:selectOptions value="{!monthOptions}"/>
                            </apex:selectList>/

                            <apex:selectList value="{!kokyaku.CardLimitYY}" size="1" styleClass="cardlimit">
                                <apex:selectOptions value="{!yearOptions}"/>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <td>カード名義人</td>
                        <td>
                            <apex:inputText value="{!kokyaku.CardOwner}" styleClass="textbox2 ime-disabled" onblur="Blur(this);" onfocus="Focus(this);"/>
                        </td>
                    </tr>
                </table>

                <hr />

                <!-- ボタン部 -->
                <p class="inquiry">
                    <apex:inputCheckbox id="agree" value="{!isAgree}"/>
                    <apex:outputLabel for="agree" style="vertical-align: 0.25em;">
                        <a href="http://www.kirinuki.jp/privacy.html" target="_blank" style="color: blue;">プライバシーポリシー</a>と、
                        <a href="http://www.kirinuki.jp/terms.html" target="_blank" style="color: blue;">利用規約</a>に同意する
                    </apex:outputLabel>
                </p>
                <p class="inquiry">
                    <apex:commandButton value="確認" action="{!confirm}" styleClass="button"/>
                    <input type="reset" value="リセット" class="button"/>
                </p>

                <p>&nbsp;</p>

            </apex:form>
        </apex:outputPanel>

        <!-- 確認モード：確認画面 -->
        <apex:outputPanel rendered="{!(dispMode=='confirm')}">
            <apex:form >
                <div class="comment_normal">
                    <p>
                        下記内容でよろしいですか？
                    </p>
                </div>

                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="700">
                    <tr>
                        <th width="140">会社名</th>
                        <td>
                            <apex:outputText value="{!kokyaku.KokyakuName}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>会社名(全角カナ)</th>
                        <td>
                            <apex:outputText value="{!kokyaku.KokyakuNameKana}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>郵便番号</th>
                        <td>
                            <apex:outputText id="postalcode1" value="{!kokyaku.PostalCode1}"/>-
                            <apex:outputText id="postalcode2" value="{!kokyaku.PostalCode2}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>都道府県</th>
                        <td>
                            <apex:outputText id="pref" value="{!kokyaku.State}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>市区郡</th>
                        <td>
                            <apex:outputText id="city" value="{!kokyaku.City}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>町名・番地・ビル名など</th>
                        <td>
                            <apex:outputText id="street1" value="{!kokyaku.Street1}"/><br />
                            <apex:outputText id="street2" value="{!kokyaku.Street2}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>お電話番号</th>
                        <td>
                            <apex:outputText value="{!kokyaku.Phone1}"/>-
                            <apex:outputText value="{!kokyaku.Phone2}"/>-
                            <apex:outputText value="{!kokyaku.Phone3}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>FAX番号</th>
                        <td>
                            <apex:outputText value="{!kokyaku.Fax1}"/>-
                            <apex:outputText value="{!kokyaku.Fax2}"/>-
                            <apex:outputText value="{!kokyaku.Fax3}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>どこでお知りになりましたか？</th>
                        <td>
                            <apex:outputPanel rendered="{!kokyaku.Source01}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource01__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source02}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource02__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source03}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource03__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source04}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource04__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source05}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource05__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source06}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource06__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source07}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource07__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source08}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource08__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source09}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource09__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source10}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource10__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source11}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource11__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source12}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource12__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source13}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource13__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source14}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource14__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source15}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource15__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source16}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource16__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source17}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource17__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source18}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource18__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source19}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource19__c.label}"/>
                                <br/>
                            </apex:outputpanel>
                            <apex:outputPanel rendered="{!kokyaku.Source20}">
                                <apex:outputText value="{!$ObjectType.Account.fields.CampaignSource20__c.label}"/>
                                （
                                <apex:outputText value="{!kokyaku.OtherDetail}"/>
                                 ）
                            </apex:outputpanel>
                        </td>
                    </tr>
                    <tr>
                        <th>ユーザーID</th>
                        <td>
                            <apex:outputText value="{!kokyaku.kokyakuId}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>パスワード</th>
                        <td>
                            <apex:outputText value="{!kokyaku.kokyakuPw}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>PC環境</th>
                        <td>
                            <apex:outputText value="{!kokyaku.Pc}"/>
                        </td>
                    </tr>
                    <tr>
                        <th>ご担当者様</th>
                        <td>
                            <table border="0" cellspacing="0" cellpadding="0" class="normal" width="100%">
                                <tr>
                                    <th>お名前</th>
                                    <th>部署名・パートナー名</th>
                                    <th>ご役職</th>
                                    <th>メールアドレス</th>
                                    <th>ご請求先</th>
                                </tr>
                                <apex:repeat var="item" value="{!tantosyaList}">
                                    <tr>
                                        <td><apex:outputText value="{!item.TantosyaName}"/></td>
                                        <td><apex:outputText value="{!item.Department}"/></td>
                                        <td><apex:outputText value="{!item.Title}"/></td>
                                        <td><apex:outputText value="{!item.Email}"/></td>
                                        <td class="center"><apex:outputText value="{!IF(item.SeikyuTantoFlg, '●', '&nbsp;')}" escape="false"/></td>
                                    </tr>
                                </apex:repeat>
                            </table>
                        </td>
                    </tr>

                    <!-- 支払方法：請求書払い -->
                    <apex:outputPanel rendered="{!kokyaku.paymentSeikyusyo}">
                        <tr>
                            <th rowspan="2">お支払い</th>
                            <td>
                                <label>ご請求書払い </label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="100%">
                                    <tr>
                                        <th width="33%">締日</th>
                                        <th width="33%">お支払いサイクル</th>
                                        <th>お支払日</th>
                                    </tr>
                                    <tr>
                                        <td><apex:outputText value="{!kokyaku.ShimeGroup}"/></td>
                                        <td><apex:outputText value="{!kokyaku.KaisyuCycle}"/></td>
                                        <td><apex:outputText value="{!kokyaku.KaisyuDate}"/></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </apex:outputPanel>

                    <!-- 支払方法：クレジット払い -->
                    <apex:outputPanel rendered="{!kokyaku.paymentCredit}">
                        <tr>
                            <th rowspan="3">お支払い</th>
                            <td>クレジットカード払い</td>
                        </tr>
                        <tr>
                            <td>
                                <table border="0" cellspacing="0" cellpadding="0" class="normal" width="100%">
                                    <tr>
                                        <th width="25%">カード会社</th>
                                        <td>
                                            <apex:outputText value="{!kokyaku.CardCompany}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>カード番号</th>
                                        <td>
                                            <apex:outputText value=" **** "/>-
                                            <apex:outputText value=" **** "/>-
                                            <apex:outputText value=" **** "/>-
                                            <apex:outputText value="{!kokyaku.CardNo4}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>カード有効期限</th>
                                        <td>
                                            <apex:outputText value="{!kokyaku.CardLimitMM}"/>-20
                                            <apex:outputText value="{!kokyaku.CardLimitYY}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>カード名義人</th>
                                        <td>
                                            <apex:outputText value="{!kokyaku.CardOwner}"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </apex:outputPanel>
                </table>

                <p>&nbsp;</p>

                <!-- ボタン部 -->
                <p class="inquiry">
                    <apex:commandButton value="送信" action="{!send}" styleClass="button"/>&nbsp;&nbsp;&nbsp;
                    <apex:commandButton value="戻る" action="{!back}" styleClass="button"/>
                </p>
                <p>&nbsp;</p>

            </apex:form>
        </apex:outputPanel>

    </div><!--div#content -->
    </div><!--div#container -->
    </div><!--div#wrapper -->

    <!-- copy ritgh -->
    <div id="copyright">
        Powered by<a href="http://www.force.com/" target="_blank"> force.com</a>
    </div><!--div#copyright -->
<script type="text/javascript">var smnAdvertiserId =
'00006870';</script><script type="text/javascript"
src="//cd.ladsp.com/script/pixel.js"></script>
</body>
</apex:page>